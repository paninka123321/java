szybki:
html:
<!DOCTYPE html>
<html lang="pl">
    <!-- settings -->
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gauge</title>
    <link rel="stylesheet" href="style.css" />
</head>

<!-- body of page-->
<body>
    <div class="gauge-widget">
        <div class="gauge-header">
            <span class="widget-title">Temperatura CPU</span> <!-- opcjonalnie tutaj tytuł wykresu -->
            <div class="widget-actions">
            <button class="icon-btn settings-btn">⚙️</button>
            <button class="icon-btn expand-btn">⤢</button>
            </div>
        </div>

        <div class="gauge-container">
            <canvas id="gaugeCanvas" width="175" height="100"></canvas>
            <div class="gauge-value">
            <span id="gaugeValue">78.53</span><span id="unit">°C</span>
            </div>
            <div class="gauge-label">Temperatura CPU</div>
        </div>
    </div>

<!-- Rozwijany panel uswtawień (przedział, gradient koloró, liczby/procenty)-->
    <div class="settings-panel hidden" id="settingsPanel">
        <h3>Ustawienia</h3>
        <label>
            - format wywietlania:
            <select id="displayMode">
                <option value="number">liczba</option>
                <option value="percent">procent</option>
            </select>
        </label>
        <br>
        <label>
            - kierunek gradientu kolorów
            <select id="colorDirection">
                <option value="red-green">czerwony -> zielony</option>
                <option value="green-red">zielony -> czerwony</option>
            </select>
        </label>
        <br>
        <label>
            - progi kolorów (oddziel przecinkami)
            <input id="thresholdsInput" type="text" placeholder="np. 0.25, 0.75"></input>
        </label>
        <br>
        <button id="applySettings">Zastosuj zmiany</button>
    </div> 
    <script src="script.js"></script>
</body>
</html>
js:
const canvas = document.getElementById("gaugeCanvas");
const ctx = canvas.getContext("2d");

// example values
let settings = {
  mode: "number", // "percent"
  min: 0,
  max: 100,
  value: 78.53,
  colorDirection: "red-green", // "green-red"
  thresholds: [0.25, 0.50, 0.75], // punkty zmiany koloru 
  };

function drawGauge() {
  const { min, max, value, colorDirection, thresholds } = settings;
  const startAngle = Math.PI;  // półkole - miara w radianach
  const endAngle = 2 * Math.PI;
  const radius = 80;
  const centerX = canvas.width / 2;
  const centerY = canvas.height;

  // Tło (nieosiągnięte)
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.beginPath();
  ctx.arc(centerX, centerY, radius, startAngle, endAngle);
  ctx.strokeStyle = "#ddd";
  ctx.lineWidth = 12;
  ctx.stroke();

  // Wartość aktualna
  const fraction = (value - min) / (max - min); // ułamek całości
  const valueAngle = startAngle + fraction * Math.PI; // po lewo jest pi po prawo wartosc max to 2 pi

  // ustawienia skali kolorów
  const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
  if (colorDirection === "red-green") {
    gradient.addColorStop(0, "red");
    gradient.addColorStop(0.25, "orange");
    gradient.addColorStop(1, "green");
  } else {
    gradient.addColorStop(0, "green");
    gradient.addColorStop(0.25, "orange");
    gradient.addColorStop(1, "red");
  }

  ctx.beginPath();
  ctx.arc(centerX, centerY, radius, startAngle, valueAngle);
  ctx.strokeStyle = gradient;
  ctx.lineWidth = 12;
  ctx.stroke();

  // Jak wyswietlac tekst w zaleznosci czy procenty czy liczby 
  // dodatkowo opcja tofixed pozwala nam zdefiniować do ilu miejsc 
  // po przecinku zaookraglamy wartość - mateamtyczne zaokrąglenie
  const displayValue = settings.mode === "percent"
    ? ((value / max) * 100).toFixed(1) + "%"
    : value.toFixed(1);
  document.getElementById("gaugeValue").textContent = displayValue; 
}

// PANEL USTAWIŃ
const settingsBtn = document.querySelector(".settings-btn"); // czyli przycisk ustawień
const panel = document.getElementById("settingsPanel");
const applyBtn = document.getElementById("applySettings"); //przycisk zastosowywania zmian

//akcja - pokaż/ukryj panel
settingsBtn.addEventListener("click", () => {
    // uzupelnij pola wartościami domyślnymi 
    document.getElementById("displayMode").value = settings.mode;
    document.getElementById("colorDirection").value = settings.colorDirection;
    document.getElementById("thresholdsInput").value = settings.thresholds.join(",");
    // akcja - pokaż/ukryj
    panel.classList.toggle("hidden")
});

//akcja - zastosowanie zmian
applyBtn.addEventListener("click", () =>
{
    const mode = document.getElementById("displayMode").value; //procenty czy liczby
    const colorDirection = document.getElementById("colorDirection").value;
    const thresholdsInput = document.getElementById("thresholdsInput"); //co ile zmieniają się kolory

    const thresholds = thresholdsInput
    .split(",")
    .map(v => parseFloat(v.trim()))
    .filter(v => !isNaN(v));
    
    settings.mode = mode;
    settings.colorDirection = colorDirection;
    if (thresholdsd.length > 0) settings.thresholds = thresholds;

    // rysowanie koła
    drawGauge();

    panel.classList.add("hidden");

    // zapisywanie ustawień w użytkownika w localStorage, żeby zawsze miał swój ulubiony widok
    localStorage.setItem("gaugeSettings", JSON.stringify(settings));
});

// odczytywanie ustawień localStorage przy stacie 
window.addEventListener("load", () => {
    const saved = localStorage.getItem("gaugageSettings");
    if (saved) {
        settings = JSON.parse(saved);
        drawGauge();
    }
})
.gauge-widget {
  width: 220px;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  padding: 12px;
  font-family: sans-serif;
  position: relative;
}

.gauge-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.icon-btn {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 16px;
  padding: 1px;
}

.gauge-container {
  position: relative;
  text-align: center;
  margin-top: 10px;
}

.gauge-value {
  font-size: 24px;
  font-weight: bold;
  color: #000;
  position: absolute;
  top: 60%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.gauge-label {
  font-size: 16px;
  color: #555;
  margin-top: 35px;
  margin-bottom: 5px;
}

/* panel ustawień */

/* jak ma wyglądać panel - canva */
.settings-panel {
    position: absolute;
    top: 40px;
    right: 10px;
    background-color: aliceblue;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 12px;
    width: 200px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    font-size: 14px;
    z-index: 100;
}

.settings-panel.hidden {
    display: none;
}

.settings-panel h3 {
    margin-top: 0;
    font-size: 16px;
}

.settings-panel label {
    display: block;
    margin: 8px 0;
}

.settings-panel input, .settings-panel select {
    width: 100%;
    padding: 4px;
    margin-top: 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
}
